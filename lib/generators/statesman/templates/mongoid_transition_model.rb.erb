class <%= klass %>
  include Mongoid::Document

  field :to_state, type: String
  field :sort_key, type: Integer
  field :statesman_metadata, type: Hash

  index({ sort_key: 1 })

  belongs_to :<%= parent.underscore %>, index: true

  alias_method :metadata, :statesman_metadata
end